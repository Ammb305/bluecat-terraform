# Example usage of BlueCat DNS Record Module

terraform {
  required_version = ">= 1.0"
}

# CNAME Record Example
module "cname_record" {
  source = "../terraform-bluecat"

  api_url      = var.api_url
  username     = var.username
  password     = var.password
  zone         = "queue.core.windows.net"
  record_type  = "CNAME"
  record_name  = "steus2ccanon123"
  record_value = "steus2ccanon123.privatelink.queue.core.windows.net"
  ttl          = 3600
}

# TXT Record Example (using A record for testing)
module "a_record" {
  source = "../terraform-bluecat"

  api_url      = var.api_url
  username     = var.username
  password     = var.password
  zone         = "privatelink.queue.core.windows.net"
  record_type  = "A"
  record_name  = "steus2ccanon123"
  record_value = "10.127.21.121"
  ttl          = 3600
}

# TXT Record Example
module "txt_record" {
  source = "../terraform-bluecat"

  api_url      = var.api_url
  username     = var.username
  password     = var.password
  zone         = "example.com"
  record_type  = "TXT"
  record_name  = "test-txt"
  record_value = "v=spf1 include:_spf.example.com ~all"
  ttl          = 3600
}

# Outputs
output "cname_record_details" {
  value = {
    record_id = module.cname_record.record_id
    status    = module.cname_record.status
    fqdn      = module.cname_record.record_fqdn
  }
}

output "a_record_details" {
  value = {
    record_id = module.a_record.record_id
    status    = module.a_record.status
    fqdn      = module.a_record.record_fqdn
  }
}

output "txt_record_details" {
  value = {
    record_id = module.txt_record.record_id
    status    = module.txt_record.status
    fqdn      = module.txt_record.record_fqdn
  }
}
